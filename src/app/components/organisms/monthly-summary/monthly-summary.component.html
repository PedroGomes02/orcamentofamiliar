<fieldset>
  <legend>Resumo Mensal</legend>
  <div>
    <label>
      Ano:
      <select
        [(ngModel)]="summaryService.filters.year"
        (ngModelChange)="summaryService.filters.year = +$event"
        (change)="summaryService.handlerChangeFilters()"
      >
        <option
          *ngFor="let year of summaryService.years | async"
          [selected]="summaryService.filters.year === year"
        >
          {{ year }}
        </option>
      </select>
    </label>

    <label>
      Mês:
      <select
        [(ngModel)]="summaryService.filters.month"
        (ngModelChange)="summaryService.filters.month = +$event"
        (change)="summaryService.handlerChangeFilters()"
      >
        <option
          *ngFor="let month of summaryService.months; let i = index"
          [selected]="summaryService.filters.month === i + 1"
          [value]="i + 1"
        >
          {{ month }}
        </option>
      </select>
    </label>
  </div>

  <div class="balanceContainer">
    <span>Saldo</span>
    <span
      >{{
        ((this.summaryService.incomeTotal | async) || 0) -
          (((this.summaryService.savingsTotal | async) || 0) +
            ((this.summaryService.expenseTotal | async) || 0)) | currency : "€"
      }}
    </span>
  </div>
  <progress
    class="progressBalance"
    value="{{
      ((this.summaryService.incomeTotal | async) || 0) -
        (((this.summaryService.incomeTotal | async) || 0) -
          (((this.summaryService.savingsTotal | async) || 0) +
            ((this.summaryService.expenseTotal | async) || 0)))
    }}"
    max="{{
      ((this.summaryService.incomeTotal | async) || 0) -
        (((this.summaryService.savingsTotal | async) || 0) +
          ((this.summaryService.expenseTotal | async) || 0))
    }}"
  ></progress>

  <ul class="monthlySummary">
    <li class="income">
      <span>Receitas</span>
      <span>{{
        this.summaryService.incomeTotal | async | currency : "€"
      }}</span>
    </li>
    <li class="savings">
      <span>Poupanças</span>
      <span>{{
        this.summaryService.savingsTotal | async | currency : "€"
      }}</span>
    </li>
    <li class="expense">
      <span>Despesas</span>
      <span>{{
        this.summaryService.expenseTotal | async | currency : "€"
      }}</span>
    </li>
  </ul>

  <ng-content></ng-content>
</fieldset>
